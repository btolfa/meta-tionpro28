From 85750c5a28a960d8c132676d226f93b916800a2e Mon Sep 17 00:00:00 2001
From: Tengiz Sharafiev <btolfa@gmail.com>
Date: Fri, 14 Aug 2015 17:05:44 +0300
Subject: [PATCH] Add tion-pro28 support

---
 arch/arm/boot/dts/Makefile             |    3 +-
 arch/arm/boot/dts/imx28-tion-pro28.dts | 1225 ++++++++++++++++++++++++++++++++
 2 files changed, 1227 insertions(+), 1 deletion(-)
 create mode 100644 arch/arm/boot/dts/imx28-tion-pro28.dts

diff --git a/arch/arm/boot/dts/Makefile b/arch/arm/boot/dts/Makefile
index 992736b..5d44b39 100644
--- a/arch/arm/boot/dts/Makefile
+++ b/arch/arm/boot/dts/Makefile
@@ -342,7 +342,8 @@ dtb-$(CONFIG_ARCH_MXS) += \
 	imx28-m28cu3.dtb \
 	imx28-m28evk.dtb \
 	imx28-sps1.dtb \
-	imx28-tx28.dtb
+	imx28-tx28.dtb \
+	imx28-tion-pro28.dtb
 dtb-$(CONFIG_ARCH_NOMADIK) += \
 	ste-nomadik-s8815.dtb \
 	ste-nomadik-nhk15.dtb
diff --git a/arch/arm/boot/dts/imx28-tion-pro28.dts b/arch/arm/boot/dts/imx28-tion-pro28.dts
new file mode 100644
index 0000000..4b664dc
--- /dev/null
+++ b/arch/arm/boot/dts/imx28-tion-pro28.dts
@@ -0,0 +1,1225 @@
+/dts-v1/;
+
+/ {
+	#address-cells = <0x1>;
+	#size-cells = <0x1>;
+	interrupt-parent = <0x1>;
+	model = "ZEO i.MX28 Tion-Pro28 SBC";
+	compatible = "fsl,imx28-evk", "fsl,imx28";
+
+	chosen {
+	};
+
+	aliases {
+		ethernet0 = "/ahb@80080000/ethernet@800f0000";
+		ethernet1 = "/ahb@80080000/ethernet@800f4000";
+		gpio0 = "/apb@80000000/apbh@80000000/pinctrl@80018000/gpio@0";
+		gpio1 = "/apb@80000000/apbh@80000000/pinctrl@80018000/gpio@1";
+		gpio2 = "/apb@80000000/apbh@80000000/pinctrl@80018000/gpio@2";
+		gpio3 = "/apb@80000000/apbh@80000000/pinctrl@80018000/gpio@3";
+		gpio4 = "/apb@80000000/apbh@80000000/pinctrl@80018000/gpio@4";
+		saif0 = "/apb@80000000/apbx@80040000/saif@80042000";
+		saif1 = "/apb@80000000/apbx@80040000/saif@80046000";
+		serial0 = "/apb@80000000/apbx@80040000/serial@8006a000";
+		serial1 = "/apb@80000000/apbx@80040000/serial@8006c000";
+		serial2 = "/apb@80000000/apbx@80040000/serial@8006e000";
+		serial3 = "/apb@80000000/apbx@80040000/serial@80070000";
+		serial4 = "/apb@80000000/apbx@80040000/serial@80072000";
+		spi0 = "/apb@80000000/apbh@80000000/ssp@80012000";
+		spi1 = "/apb@80000000/apbh@80000000/ssp@80014000";
+	};
+
+	memory {
+		device_type = "memory";
+		reg = <0x40000000 0x8000000>;
+	};
+
+	cpus {
+		#address-cells = <0x0>;
+		#size-cells = <0x0>;
+
+		cpu {
+			compatible = "arm,arm926ej-s";
+			device_type = "cpu";
+		};
+	};
+
+	apb@80000000 {
+		compatible = "simple-bus";
+		#address-cells = <0x1>;
+		#size-cells = <0x1>;
+		reg = <0x80000000 0x80000>;
+		ranges;
+
+		apbh@80000000 {
+			compatible = "simple-bus";
+			#address-cells = <0x1>;
+			#size-cells = <0x1>;
+			reg = <0x80000000 0x3c900>;
+			ranges;
+
+			interrupt-controller@80000000 {
+				compatible = "fsl,imx28-icoll", "fsl,icoll";
+				interrupt-controller;
+				#interrupt-cells = <0x1>;
+				reg = <0x80000000 0x2000>;
+				linux,phandle = <0x1>;
+				phandle = <0x1>;
+			};
+
+			hsadc@80002000 {
+				reg = <0x80002000 0x2000>;
+				interrupts = <0xd>;
+				dmas = <0x2 0xc>;
+				dma-names = "rx";
+				status = "disabled";
+			};
+
+			dma-apbh@80004000 {
+				compatible = "fsl,imx28-dma-apbh";
+				reg = <0x80004000 0x2000>;
+				interrupts = <0x52 0x53 0x54 0x55 0x58 0x58 0x58 0x58 0x58 0x58 0x58 0x58 0x57 0x56 0x0 0x0>;
+				interrupt-names = "ssp0", "ssp1", "ssp2", "ssp3", "gpmi0", "gmpi1", "gpmi2", "gmpi3", "gpmi4", "gmpi5", "gpmi6", "gmpi7", "hsadc", "lcdif", "empty", "empty";
+				#dma-cells = <0x1>;
+				dma-channels = <0x10>;
+				clocks = <0x3 0x19>;
+				linux,phandle = <0x2>;
+				phandle = <0x2>;
+			};
+
+			perfmon@80006000 {
+				reg = <0x80006000 0x800>;
+				interrupts = <0x1b>;
+				status = "disabled";
+			};
+
+			gpmi-nand@8000c000 {
+				compatible = "fsl,imx28-gpmi-nand";
+				#address-cells = <0x1>;
+				#size-cells = <0x1>;
+				reg = <0x8000c000 0x2000 0x8000a000 0x2000>;
+				reg-names = "gpmi-nand", "bch";
+				interrupts = <0x29>;
+				interrupt-names = "bch";
+				clocks = <0x3 0x32>;
+				clock-names = "gpmi_io";
+				dmas = <0x2 0x4>;
+				dma-names = "rx-tx";
+				status = "okay";
+				pinctrl-names = "default";
+				pinctrl-0 = <0x4 0x5 0x6>;
+			};
+
+			ssp@80010000 {
+				#address-cells = <0x1>;
+				#size-cells = <0x0>;
+				reg = <0x80010000 0x2000>;
+				interrupts = <0x60>;
+				clocks = <0x3 0x2e>;
+				dmas = <0x2 0x0>;
+				dma-names = "rx-tx";
+				status = "okay";
+				compatible = "fsl,imx28-mmc";
+				pinctrl-names = "default";
+				pinctrl-0 = <0x7 0x8 0x9>;
+				bus-width = <0x8>;
+				wp-gpios = <0xa 0xc 0x0>;
+				vmmc-supply = <0xb>;
+			};
+
+			ssp@80012000 {
+				#address-cells = <0x1>;
+				#size-cells = <0x0>;
+				reg = <0x80012000 0x2000>;
+				interrupts = <0x61>;
+				clocks = <0x3 0x2f>;
+				dmas = <0x2 0x1>;
+				dma-names = "rx-tx";
+				status = "disabled";
+				compatible = "fsl,imx28-mmc";
+				bus-width = <0x8>;
+				wp-gpios = <0xc 0x1c 0x0>;
+			};
+
+			ssp@80014000 {
+				#address-cells = <0x1>;
+				#size-cells = <0x0>;
+				reg = <0x80014000 0x2000>;
+				interrupts = <0x62>;
+				clocks = <0x3 0x30>;
+				dmas = <0x2 0x2>;
+				dma-names = "rx-tx";
+				status = "okay";
+				compatible = "fsl,imx28-spi";
+				pinctrl-names = "default";
+				pinctrl-0 = <0xd>;
+
+				m25p80@0 {
+					#address-cells = <0x1>;
+					#size-cells = <0x1>;
+					compatible = "sst,sst25vf016b";
+					spi-max-frequency = <0x2625a00>;
+					reg = <0x0>;
+				};
+			};
+
+			ssp@80016000 {
+				#address-cells = <0x1>;
+				#size-cells = <0x0>;
+				reg = <0x80016000 0x2000>;
+				interrupts = <0x63>;
+				clocks = <0x3 0x31>;
+				dmas = <0x2 0x3>;
+				dma-names = "rx-tx";
+				status = "disabled";
+			};
+
+			pinctrl@80018000 {
+				#address-cells = <0x1>;
+				#size-cells = <0x0>;
+				compatible = "fsl,imx28-pinctrl", "simple-bus";
+				reg = <0x80018000 0x2000>;
+				pinctrl-names = "default";
+				pinctrl-0 = <0xe>;
+
+				gpio@0 {
+					compatible = "fsl,imx28-gpio", "fsl,mxs-gpio";
+					interrupts = <0x7f>;
+					gpio-controller;
+					#gpio-cells = <0x2>;
+					interrupt-controller;
+					#interrupt-cells = <0x2>;
+					linux,phandle = <0xc>;
+					phandle = <0xc>;
+				};
+
+				gpio@1 {
+					compatible = "fsl,imx28-gpio", "fsl,mxs-gpio";
+					interrupts = <0x7e>;
+					gpio-controller;
+					#gpio-cells = <0x2>;
+					interrupt-controller;
+					#interrupt-cells = <0x2>;
+				};
+
+				gpio@2 {
+					compatible = "fsl,imx28-gpio", "fsl,mxs-gpio";
+					interrupts = <0x7d>;
+					gpio-controller;
+					#gpio-cells = <0x2>;
+					interrupt-controller;
+					#interrupt-cells = <0x2>;
+					linux,phandle = <0xa>;
+					phandle = <0xa>;
+				};
+
+				gpio@3 {
+					compatible = "fsl,imx28-gpio", "fsl,mxs-gpio";
+					interrupts = <0x7c>;
+					gpio-controller;
+					#gpio-cells = <0x2>;
+					interrupt-controller;
+					#interrupt-cells = <0x2>;
+					linux,phandle = <0x2a>;
+					phandle = <0x2a>;
+				};
+
+				gpio@4 {
+					compatible = "fsl,imx28-gpio", "fsl,mxs-gpio";
+					interrupts = <0x7b>;
+					gpio-controller;
+					#gpio-cells = <0x2>;
+					interrupt-controller;
+					#interrupt-cells = <0x2>;
+					linux,phandle = <0x28>;
+					phandle = <0x28>;
+				};
+
+				duart@0 {
+					reg = <0x0>;
+					fsl,pinmux-ids = <0x3102 0x3112>;
+					fsl,drive-strength = <0x0>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x0>;
+					linux,phandle = <0x20>;
+					phandle = <0x20>;
+				};
+
+				duart@1 {
+					reg = <0x1>;
+					fsl,pinmux-ids = <0x3022 0x3032>;
+					fsl,drive-strength = <0x0>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x0>;
+				};
+
+				duart-4pins@0 {
+					reg = <0x0>;
+					fsl,pinmux-ids = <0x3022 0x3032 0x3002 0x3012>;
+					fsl,drive-strength = <0x0>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x0>;
+				};
+
+				gpmi-nand@0 {
+					reg = <0x0>;
+					fsl,pinmux-ids = <0x0 0x10 0x20 0x30 0x40 0x50 0x60 0x70 0x100 0x140 0x180 0x190 0x1a0 0x1b0 0x1c0>;
+					fsl,drive-strength = <0x0>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x0>;
+					linux,phandle = <0x4>;
+					phandle = <0x4>;
+				};
+
+				gpmi-status-cfg {
+					fsl,pinmux-ids = <0x180 0x190 0x1c0>;
+					fsl,drive-strength = <0x2>;
+					linux,phandle = <0x5>;
+					phandle = <0x5>;
+				};
+
+				auart0@0 {
+					reg = <0x0>;
+					fsl,pinmux-ids = <0x3000 0x3010 0x3020 0x3030>;
+					fsl,drive-strength = <0x0>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x0>;
+					linux,phandle = <0x1e>;
+					phandle = <0x1e>;
+				};
+
+				auart0-2pins@0 {
+					reg = <0x0>;
+					fsl,pinmux-ids = <0x3000 0x3010>;
+					fsl,drive-strength = <0x0>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x0>;
+				};
+
+				auart1@0 {
+					reg = <0x0>;
+					fsl,pinmux-ids = <0x3040 0x3050 0x3060 0x3070>;
+					fsl,drive-strength = <0x0>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x0>;
+				};
+
+				auart1-2pins@0 {
+					reg = <0x0>;
+					fsl,pinmux-ids = <0x3040 0x3050>;
+					fsl,drive-strength = <0x0>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x0>;
+				};
+
+				auart2-2pins@0 {
+					reg = <0x0>;
+					fsl,pinmux-ids = <0x2101 0x2111>;
+					fsl,drive-strength = <0x0>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x0>;
+				};
+
+				auart2-2pins@1 {
+					reg = <0x1>;
+					fsl,pinmux-ids = <0x3080 0x3090>;
+					fsl,drive-strength = <0x0>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x0>;
+				};
+
+				auart3@0 {
+					reg = <0x0>;
+					fsl,pinmux-ids = <0x30c0 0x30d0 0x30e0 0x30f0>;
+					fsl,drive-strength = <0x0>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x0>;
+					linux,phandle = <0x1f>;
+					phandle = <0x1f>;
+				};
+
+				auart3-2pins@0 {
+					reg = <0x0>;
+					fsl,pinmux-ids = <0x2121 0x2131>;
+					fsl,drive-strength = <0x0>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x0>;
+				};
+
+				auart3-2pins@1 {
+					reg = <0x1>;
+					fsl,pinmux-ids = <0x30c0 0x30d0>;
+					fsl,drive-strength = <0x0>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x0>;
+				};
+
+				auart4@0 {
+					reg = <0x0>;
+					fsl,pinmux-ids = <0x2181 0x2191>;
+					fsl,drive-strength = <0x0>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x0>;
+				};
+
+				mac0@0 {
+					reg = <0x0>;
+					fsl,pinmux-ids = <0x4000 0x4010 0x4020 0x4030 0x4040 0x4060 0x4070 0x4080 0x4100>;
+					fsl,drive-strength = <0x1>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x1>;
+					linux,phandle = <0x26>;
+					phandle = <0x26>;
+				};
+
+				mac1@0 {
+					reg = <0x0>;
+					fsl,pinmux-ids = <0x40f1 0x4091 0x40a1 0x40e1 0x40b1 0x40c1>;
+					fsl,drive-strength = <0x1>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x1>;
+					linux,phandle = <0x29>;
+					phandle = <0x29>;
+				};
+
+				mmc0-8bit@0 {
+					reg = <0x0>;
+					fsl,pinmux-ids = <0x2000 0x2010 0x2020 0x2030 0x2040 0x2050 0x2060 0x2070 0x2080 0x2090 0x20a0>;
+					fsl,drive-strength = <0x1>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x1>;
+					linux,phandle = <0x7>;
+					phandle = <0x7>;
+				};
+
+				mmc0-4bit@0 {
+					reg = <0x0>;
+					fsl,pinmux-ids = <0x2000 0x2010 0x2020 0x2030 0x2080 0x2090 0x20a0>;
+					fsl,drive-strength = <0x1>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x1>;
+				};
+
+				mmc0-cd-cfg {
+					fsl,pinmux-ids = <0x2090>;
+					fsl,pull-up = <0x0>;
+					linux,phandle = <0x8>;
+					phandle = <0x8>;
+				};
+
+				mmc0-sck-cfg {
+					fsl,pinmux-ids = <0x20a0>;
+					fsl,drive-strength = <0x2>;
+					fsl,pull-up = <0x0>;
+					linux,phandle = <0x9>;
+					phandle = <0x9>;
+				};
+
+				mmc2-4bit@0 {
+					reg = <0x0>;
+					fsl,pinmux-ids = <0x2041 0x20c1 0x20d1 0x2051 0x2061 0x3041 0x2071>;
+					fsl,drive-strength = <0x1>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x1>;
+				};
+
+				mmc2-cd-cfg {
+					fsl,pinmux-ids = <0x3041>;
+					fsl,pull-up = <0x0>;
+				};
+
+				mmc2-sck-cfg {
+					fsl,pinmux-ids = <0x2071>;
+					fsl,drive-strength = <0x2>;
+					fsl,pull-up = <0x0>;
+				};
+
+				i2c0@0 {
+					reg = <0x0>;
+					fsl,pinmux-ids = <0x3180 0x3190>;
+					fsl,drive-strength = <0x1>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x1>;
+					linux,phandle = <0x1b>;
+					phandle = <0x1b>;
+				};
+
+				i2c0@1 {
+					reg = <0x1>;
+					fsl,pinmux-ids = <0x3001 0x3011>;
+					fsl,drive-strength = <0x1>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x1>;
+				};
+
+				i2c1@0 {
+					reg = <0x0>;
+					fsl,pinmux-ids = <0x3101 0x3111>;
+					fsl,drive-strength = <0x1>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x1>;
+				};
+
+				saif0@0 {
+					reg = <0x0>;
+					fsl,pinmux-ids = <0x3140 0x3150 0x3160 0x3170>;
+					fsl,drive-strength = <0x2>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x1>;
+					linux,phandle = <0x18>;
+					phandle = <0x18>;
+				};
+
+				saif0@1 {
+					reg = <0x1>;
+					fsl,pinmux-ids = <0x3150 0x3160 0x3170>;
+					fsl,drive-strength = <0x2>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x1>;
+				};
+
+				saif1@0 {
+					reg = <0x0>;
+					fsl,pinmux-ids = <0x31a0>;
+					fsl,drive-strength = <0x2>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x1>;
+					linux,phandle = <0x19>;
+					phandle = <0x19>;
+				};
+
+				pwm0@0 {
+					reg = <0x0>;
+					fsl,pinmux-ids = <0x3100>;
+					fsl,drive-strength = <0x0>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x0>;
+				};
+
+				pwm2@0 {
+					reg = <0x0>;
+					fsl,pinmux-ids = <0x3120>;
+					fsl,drive-strength = <0x0>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x0>;
+				};
+
+				pwm3@0 {
+					reg = <0x0>;
+					fsl,pinmux-ids = <0x31c0>;
+					fsl,drive-strength = <0x0>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x0>;
+					linux,phandle = <0x1d>;
+					phandle = <0x1d>;
+				};
+
+				pwm3@1 {
+					reg = <0x1>;
+					fsl,pinmux-ids = <0x3141>;
+					fsl,drive-strength = <0x0>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x0>;
+				};
+
+				pwm4@0 {
+					reg = <0x0>;
+					fsl,pinmux-ids = <0x31d0>;
+					fsl,drive-strength = <0x0>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x0>;
+				};
+
+				lcdif-24bit@0 {
+					reg = <0x0>;
+					fsl,pinmux-ids = <0x1000 0x1010 0x1020 0x1030 0x1040 0x1050 0x1060 0x1070 0x1080 0x1090 0x10a0 0x10b0 0x10c0 0x10d0 0x10e0 0x10f0 0x1100 0x1110 0x1120 0x1130 0x1140 0x1150 0x1160 0x1170>;
+					fsl,drive-strength = <0x0>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x0>;
+				};
+
+				lcdif-16bit@0 {
+					reg = <0x0>;
+					fsl,pinmux-ids = <0x1000 0x1010 0x1020 0x1030 0x1040 0x1050 0x1060 0x1070 0x1080 0x1090 0x10a0 0x10b0 0x10c0 0x10d0 0x10e0 0x10f0>;
+					fsl,drive-strength = <0x0>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x0>;
+				};
+
+				lcdif-sync@0 {
+					reg = <0x0>;
+					fsl,pinmux-ids = <0x11a1 0x11b1 0x1181 0x1191>;
+					fsl,drive-strength = <0x0>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x0>;
+				};
+
+				can0@0 {
+					reg = <0x0>;
+					fsl,pinmux-ids = <0x161 0x171>;
+					fsl,drive-strength = <0x0>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x0>;
+					linux,phandle = <0x14>;
+					phandle = <0x14>;
+				};
+
+				can1@0 {
+					reg = <0x0>;
+					fsl,pinmux-ids = <0x121 0x131>;
+					fsl,drive-strength = <0x0>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x0>;
+					linux,phandle = <0x16>;
+					phandle = <0x16>;
+				};
+
+				spi2@0 {
+					reg = <0x0>;
+					fsl,pinmux-ids = <0x2100 0x2110 0x2120 0x2130>;
+					fsl,drive-strength = <0x1>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x1>;
+					linux,phandle = <0xd>;
+					phandle = <0xd>;
+				};
+
+				spi3@0 {
+					reg = <0x0>;
+					fsl,pinmux-ids = <0x3082 0x3092 0x2180 0x2190 0x21a0 0x21b0>;
+					fsl,drive-strength = <0x1>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x0>;
+				};
+
+				usbphy0@0 {
+					reg = <0x0>;
+					fsl,pinmux-ids = <0x2152>;
+					fsl,drive-strength = <0x2>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x0>;
+				};
+
+				usbphy0@1 {
+					reg = <0x1>;
+					fsl,pinmux-ids = <0x3061>;
+					fsl,drive-strength = <0x2>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x0>;
+				};
+
+				usbphy1@0 {
+					reg = <0x0>;
+					fsl,pinmux-ids = <0x2142>;
+					fsl,drive-strength = <0x2>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x0>;
+				};
+
+				usb0id@0 {
+					reg = <0x0>;
+					fsl,pinmux-ids = <0x3071>;
+					fsl,drive-strength = <0x2>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x1>;
+					linux,phandle = <0x22>;
+					phandle = <0x22>;
+				};
+
+				hog@0 {
+					reg = <0x0>;
+					fsl,pinmux-ids = <0x20d3 0x20f3 0x40d3 0x20c3 0x31e3 0x3083 0x3093>;
+					fsl,drive-strength = <0x0>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x0>;
+					linux,phandle = <0xe>;
+					phandle = <0xe>;
+				};
+
+				led_gpio3_29@0 {
+					reg = <0x0>;
+					fsl,pinmux-ids = <0x31d3>;
+					fsl,drive-strength = <0x0>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x0>;
+					linux,phandle = <0x2d>;
+					phandle = <0x2d>;
+				};
+
+				gpmi-nand-evk@0 {
+					reg = <0x0>;
+					fsl,pinmux-ids = <0x110 0x150>;
+					fsl,drive-strength = <0x0>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x0>;
+					linux,phandle = <0x6>;
+					phandle = <0x6>;
+				};
+
+				lcdif-evk@0 {
+					reg = <0x0>;
+					fsl,pinmux-ids = <0x11c1 0x11d1 0x11e0 0x11f0>;
+					fsl,drive-strength = <0x0>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x0>;
+					linux,phandle = <0x10>;
+					phandle = <0x10>;
+				};
+
+				lcdif-18bit@0 {
+					reg = <0x0>;
+					fsl,pinmux-ids = <0x1000 0x1010 0x1020 0x1030 0x1040 0x1050 0x1060 0x1070 0x1080 0x1090 0x10a0 0x10b0 0x10c0 0x10d0 0x10e0 0x10f0 0x1100 0x1110>;
+					fsl,drive-strength = <0x0>;
+					fsl,voltage = <0x1>;
+					fsl,pull-up = <0x0>;
+					linux,phandle = <0xf>;
+					phandle = <0xf>;
+				};
+			};
+
+			digctl@8001c000 {
+				compatible = "fsl,imx28-digctl", "fsl,imx23-digctl";
+				reg = <0x8001c000 0x2000>;
+				interrupts = <0x59>;
+				status = "disabled";
+			};
+
+			etm@80022000 {
+				reg = <0x80022000 0x2000>;
+				status = "disabled";
+			};
+
+			dma-apbx@80024000 {
+				compatible = "fsl,imx28-dma-apbx";
+				reg = <0x80024000 0x2000>;
+				interrupts = <0x4e 0x4f 0x42 0x0 0x50 0x51 0x44 0x45 0x46 0x47 0x48 0x49 0x4a 0x4b 0x4c 0x4d>;
+				interrupt-names = "auart4-rx", "aurat4-tx", "spdif-tx", "empty", "saif0", "saif1", "i2c0", "i2c1", "auart0-rx", "auart0-tx", "auart1-rx", "auart1-tx", "auart2-rx", "auart2-tx", "auart3-rx", "auart3-tx";
+				#dma-cells = <0x1>;
+				dma-channels = <0x10>;
+				clocks = <0x3 0x1a>;
+				linux,phandle = <0x17>;
+				phandle = <0x17>;
+			};
+
+			dcp@80028000 {
+				compatible = "fsl,imx28-dcp", "fsl,imx23-dcp";
+				reg = <0x80028000 0x2000>;
+				interrupts = <0x34 0x35 0x36>;
+				status = "okay";
+			};
+
+			pxp@8002a000 {
+				reg = <0x8002a000 0x2000>;
+				interrupts = <0x27>;
+				status = "disabled";
+			};
+
+			ocotp@8002c000 {
+				compatible = "fsl,ocotp";
+				reg = <0x8002c000 0x2000>;
+				status = "disabled";
+			};
+
+			axi-ahb@8002e000 {
+				reg = <0x8002e000 0x2000>;
+				status = "disabled";
+			};
+
+			lcdif@80030000 {
+				compatible = "fsl,imx28-lcdif";
+				reg = <0x80030000 0x2000>;
+				interrupts = <0x26>;
+				clocks = <0x3 0x37>;
+				dmas = <0x2 0xd>;
+				dma-names = "rx";
+				status = "okay";
+				pinctrl-names = "default";
+				pinctrl-0 = <0xf 0x10>;
+				lcd-supply = <0x11>;
+				display = <0x12>;
+
+				display {
+					bits-per-pixel = <0x20>;
+					bus-width = <0x12>;
+					linux,phandle = <0x12>;
+					phandle = <0x12>;
+
+					display-timings {
+						native-mode = <0x13>;
+
+						timing0 {
+							clock-frequency = <0x17d7840>;
+							hactive = <0x280>;
+							vactive = <0x1e0>;
+							hback-porch = <0xc>;
+							hfront-porch = <0x8a>;
+							vback-porch = <0x15>;
+							vfront-porch = <0xa>;
+							hsync-len = <0xa>;
+							vsync-len = <0xa>;
+							hsync-active = <0x0>;
+							vsync-active = <0x0>;
+							de-active = <0x1>;
+							pixelclk-active = <0x0>;
+							linux,phandle = <0x13>;
+							phandle = <0x13>;
+						};
+					};
+				};
+			};
+
+			can@80032000 {
+				compatible = "fsl,imx28-flexcan", "fsl,p1010-flexcan";
+				reg = <0x80032000 0x2000>;
+				interrupts = <0x8>;
+				clocks = <0x3 0x3a 0x3 0x3a>;
+				clock-names = "ipg", "per";
+				status = "okay";
+				pinctrl-names = "default";
+				pinctrl-0 = <0x14>;
+				xceiver-supply = <0x15>;
+			};
+
+			can@80034000 {
+				compatible = "fsl,imx28-flexcan", "fsl,p1010-flexcan";
+				reg = <0x80034000 0x2000>;
+				interrupts = <0x9>;
+				clocks = <0x3 0x3b 0x3 0x3b>;
+				clock-names = "ipg", "per";
+				status = "okay";
+				pinctrl-names = "default";
+				pinctrl-0 = <0x16>;
+				xceiver-supply = <0x15>;
+			};
+
+			simdbg@8003c000 {
+				reg = <0x8003c000 0x200>;
+				status = "disabled";
+			};
+
+			simgpmisel@8003c200 {
+				reg = <0x8003c200 0x100>;
+				status = "disabled";
+			};
+
+			simsspsel@8003c300 {
+				reg = <0x8003c300 0x100>;
+				status = "disabled";
+			};
+
+			simmemsel@8003c400 {
+				reg = <0x8003c400 0x100>;
+				status = "disabled";
+			};
+
+			gpiomon@8003c500 {
+				reg = <0x8003c500 0x100>;
+				status = "disabled";
+			};
+
+			simenet@8003c700 {
+				reg = <0x8003c700 0x100>;
+				status = "disabled";
+			};
+
+			armjtag@8003c800 {
+				reg = <0x8003c800 0x100>;
+				status = "disabled";
+			};
+		};
+
+		apbx@80040000 {
+			compatible = "simple-bus";
+			#address-cells = <0x1>;
+			#size-cells = <0x1>;
+			reg = <0x80040000 0x40000>;
+			ranges;
+
+			clkctrl@80040000 {
+				compatible = "fsl,imx28-clkctrl", "fsl,clkctrl";
+				reg = <0x80040000 0x2000>;
+				#clock-cells = <0x1>;
+				linux,phandle = <0x3>;
+				phandle = <0x3>;
+			};
+
+			saif@80042000 {
+				compatible = "fsl,imx28-saif";
+				reg = <0x80042000 0x2000>;
+				interrupts = <0x3b>;
+				#clock-cells = <0x0>;
+				clocks = <0x3 0x35>;
+				dmas = <0x17 0x4>;
+				dma-names = "rx-tx";
+				status = "okay";
+				pinctrl-names = "default";
+				pinctrl-0 = <0x18>;
+				linux,phandle = <0x1a>;
+				phandle = <0x1a>;
+			};
+
+			power@80044000 {
+				reg = <0x80044000 0x2000>;
+				status = "disabled";
+			};
+
+			saif@80046000 {
+				compatible = "fsl,imx28-saif";
+				reg = <0x80046000 0x2000>;
+				interrupts = <0x3a>;
+				clocks = <0x3 0x36>;
+				dmas = <0x17 0x5>;
+				dma-names = "rx-tx";
+				status = "okay";
+				pinctrl-names = "default";
+				pinctrl-0 = <0x19>;
+				fsl,saif-master = <0x1a>;
+				linux,phandle = <0x2b>;
+				phandle = <0x2b>;
+			};
+
+			lradc@80050000 {
+				compatible = "fsl,imx28-lradc";
+				reg = <0x80050000 0x2000>;
+				interrupts = <0xa 0xe 0xf 0x10 0x11 0x12 0x13 0x14 0x15 0x16 0x17 0x18 0x19>;
+				status = "okay";
+				clocks = <0x3 0x29>;
+				fsl,lradc-touchscreen-wires = <0x4>;
+				fsl,ave-ctrl = <0x4>;
+				fsl,ave-delay = <0x2>;
+				fsl,settling = <0xa>;
+			};
+
+			spdif@80054000 {
+				reg = <0x80054000 0x2000>;
+				interrupts = <0x2d>;
+				dmas = <0x17 0x2>;
+				dma-names = "tx";
+				status = "disabled";
+			};
+
+			rtc@80056000 {
+				compatible = "fsl,imx28-rtc", "fsl,stmp3xxx-rtc";
+				reg = <0x80056000 0x2000>;
+				interrupts = <0x1d>;
+			};
+
+			i2c@80058000 {
+				#address-cells = <0x1>;
+				#size-cells = <0x0>;
+				compatible = "fsl,imx28-i2c";
+				reg = <0x80058000 0x2000>;
+				interrupts = <0x6f>;
+				clock-frequency = <0x186a0>;
+				dmas = <0x17 0x6>;
+				dma-names = "rx-tx";
+				status = "okay";
+				pinctrl-names = "default";
+				pinctrl-0 = <0x1b>;
+
+				codec@0a {
+					compatible = "fsl,sgtl5000";
+					reg = <0xa>;
+					VDDA-supply = <0x1c>;
+					VDDIO-supply = <0x1c>;
+					clocks = <0x1a>;
+					linux,phandle = <0x2c>;
+					phandle = <0x2c>;
+				};
+
+				at24@51 {
+					compatible = "at24,24c32";
+					pagesize = <0x20>;
+					reg = <0x51>;
+				};
+			};
+
+			i2c@8005a000 {
+				#address-cells = <0x1>;
+				#size-cells = <0x0>;
+				compatible = "fsl,imx28-i2c";
+				reg = <0x8005a000 0x2000>;
+				interrupts = <0x6e>;
+				clock-frequency = <0x186a0>;
+				dmas = <0x17 0x7>;
+				dma-names = "rx-tx";
+				status = "disabled";
+			};
+
+			pwm@80064000 {
+				compatible = "fsl,imx28-pwm", "fsl,imx23-pwm";
+				reg = <0x80064000 0x2000>;
+				clocks = <0x3 0x2c>;
+				#pwm-cells = <0x2>;
+				fsl,pwm-number = <0x8>;
+				status = "okay";
+				pinctrl-names = "default";
+				pinctrl-0 = <0x1d>;
+				linux,phandle = <0x2e>;
+				phandle = <0x2e>;
+			};
+
+			timrot@80068000 {
+				compatible = "fsl,imx28-timrot", "fsl,timrot";
+				reg = <0x80068000 0x2000>;
+				interrupts = <0x30 0x31 0x32 0x33>;
+				clocks = <0x3 0x1a>;
+			};
+
+			serial@8006a000 {
+				compatible = "fsl,imx28-auart", "fsl,imx23-auart";
+				reg = <0x8006a000 0x2000>;
+				interrupts = <0x70>;
+				dmas = <0x17 0x8 0x17 0x9>;
+				dma-names = "rx", "tx";
+				clocks = <0x3 0x2d>;
+				status = "okay";
+				pinctrl-names = "default";
+				pinctrl-0 = <0x1e>;
+				fsl,uart-has-rtscts;
+			};
+
+			serial@8006c000 {
+				compatible = "fsl,imx28-auart", "fsl,imx23-auart";
+				reg = <0x8006c000 0x2000>;
+				interrupts = <0x71>;
+				dmas = <0x17 0xa 0x17 0xb>;
+				dma-names = "rx", "tx";
+				clocks = <0x3 0x2d>;
+				status = "disabled";
+			};
+
+			serial@8006e000 {
+				compatible = "fsl,imx28-auart", "fsl,imx23-auart";
+				reg = <0x8006e000 0x2000>;
+				interrupts = <0x72>;
+				dmas = <0x17 0xc 0x17 0xd>;
+				dma-names = "rx", "tx";
+				clocks = <0x3 0x2d>;
+				status = "disabled";
+			};
+
+			serial@80070000 {
+				compatible = "fsl,imx28-auart", "fsl,imx23-auart";
+				reg = <0x80070000 0x2000>;
+				interrupts = <0x73>;
+				dmas = <0x17 0xe 0x17 0xf>;
+				dma-names = "rx", "tx";
+				clocks = <0x3 0x2d>;
+				status = "okay";
+				pinctrl-names = "default";
+				pinctrl-0 = <0x1f>;
+			};
+
+			serial@80072000 {
+				compatible = "fsl,imx28-auart", "fsl,imx23-auart";
+				reg = <0x80072000 0x2000>;
+				interrupts = <0x74>;
+				dmas = <0x17 0x0 0x17 0x1>;
+				dma-names = "rx", "tx";
+				clocks = <0x3 0x2d>;
+				status = "disabled";
+			};
+
+			serial@80074000 {
+				compatible = "arm,pl011", "arm,primecell";
+				reg = <0x80074000 0x1000>;
+				interrupts = <0x2f>;
+				clocks = <0x3 0x2d 0x3 0x1a>;
+				clock-names = "uart", "apb_pclk";
+				status = "okay";
+				pinctrl-names = "default";
+				pinctrl-0 = <0x20>;
+			};
+
+			usbphy@8007c000 {
+				compatible = "fsl,imx28-usbphy", "fsl,imx23-usbphy";
+				reg = <0x8007c000 0x2000>;
+				clocks = <0x3 0x3e>;
+				status = "okay";
+				linux,phandle = <0x21>;
+				phandle = <0x21>;
+			};
+
+			usbphy@8007e000 {
+				compatible = "fsl,imx28-usbphy", "fsl,imx23-usbphy";
+				reg = <0x8007e000 0x2000>;
+				clocks = <0x3 0x3f>;
+				status = "okay";
+				linux,phandle = <0x24>;
+				phandle = <0x24>;
+			};
+		};
+	};
+
+	ahb@80080000 {
+		compatible = "simple-bus";
+		#address-cells = <0x1>;
+		#size-cells = <0x1>;
+		reg = <0x80080000 0x80000>;
+		ranges;
+
+		usb@80080000 {
+			compatible = "fsl,imx28-usb", "fsl,imx27-usb";
+			reg = <0x80080000 0x10000>;
+			interrupts = <0x5d>;
+			clocks = <0x3 0x3c>;
+			fsl,usbphy = <0x21>;
+			status = "okay";
+			pinctrl-names = "default";
+			pinctrl-0 = <0x22>;
+			vbus-supply = <0x23>;
+		};
+
+		usb@80090000 {
+			compatible = "fsl,imx28-usb", "fsl,imx27-usb";
+			reg = <0x80090000 0x10000>;
+			interrupts = <0x5c>;
+			clocks = <0x3 0x3d>;
+			fsl,usbphy = <0x24>;
+			status = "okay";
+			vbus-supply = <0x25>;
+		};
+
+		dflpt@800c0000 {
+			reg = <0x800c0000 0x10000>;
+			status = "disabled";
+		};
+
+		ethernet@800f0000 {
+			compatible = "fsl,imx28-fec";
+			reg = <0x800f0000 0x4000>;
+			interrupts = <0x65>;
+			clocks = <0x3 0x39 0x3 0x39 0x3 0x40>;
+			clock-names = "ipg", "ahb", "enet_out";
+			status = "okay";
+			phy-mode = "rmii";
+			pinctrl-names = "default";
+			pinctrl-0 = <0x26>;
+			phy-supply = <0x27>;
+			phy-reset-gpios = <0x28 0xd 0x0>;
+			phy-reset-duration = <0x64>;
+		};
+
+		ethernet@800f4000 {
+			compatible = "fsl,imx28-fec";
+			reg = <0x800f4000 0x4000>;
+			interrupts = <0x66>;
+			clocks = <0x3 0x39 0x3 0x39>;
+			clock-names = "ipg", "ahb";
+			status = "okay";
+			phy-mode = "rmii";
+			pinctrl-names = "default";
+			pinctrl-0 = <0x29>;
+		};
+
+		switch@800f8000 {
+			reg = <0x800f8000 0x8000>;
+			status = "disabled";
+		};
+	};
+
+	regulators {
+		compatible = "simple-bus";
+
+		3p3v {
+			compatible = "regulator-fixed";
+			regulator-name = "3P3V";
+			regulator-min-microvolt = <0x325aa0>;
+			regulator-max-microvolt = <0x325aa0>;
+			regulator-always-on;
+			linux,phandle = <0x1c>;
+			phandle = <0x1c>;
+		};
+
+		vddio-sd0 {
+			compatible = "regulator-fixed";
+			regulator-name = "vddio-sd0";
+			regulator-min-microvolt = <0x325aa0>;
+			regulator-max-microvolt = <0x325aa0>;
+			gpio = <0x2a 0x1c 0x0>;
+			linux,phandle = <0xb>;
+			phandle = <0xb>;
+		};
+
+		fec-3v3 {
+			compatible = "regulator-fixed";
+			regulator-name = "fec-3v3";
+			regulator-min-microvolt = <0x325aa0>;
+			regulator-max-microvolt = <0x325aa0>;
+			gpio = <0xa 0xf 0x0>;
+			linux,phandle = <0x27>;
+			phandle = <0x27>;
+		};
+
+		usb0_vbus {
+			compatible = "regulator-fixed";
+			regulator-name = "usb0_vbus";
+			regulator-min-microvolt = <0x4c4b40>;
+			regulator-max-microvolt = <0x4c4b40>;
+			gpio = <0x2a 0x9 0x0>;
+			enable-active-high;
+			linux,phandle = <0x23>;
+			phandle = <0x23>;
+		};
+
+		usb1_vbus {
+			compatible = "regulator-fixed";
+			regulator-name = "usb1_vbus";
+			regulator-min-microvolt = <0x4c4b40>;
+			regulator-max-microvolt = <0x4c4b40>;
+			gpio = <0x2a 0x8 0x0>;
+			enable-active-high;
+			linux,phandle = <0x25>;
+			phandle = <0x25>;
+		};
+
+		lcd-3v3 {
+			compatible = "regulator-fixed";
+			regulator-name = "lcd-3v3";
+			regulator-min-microvolt = <0x325aa0>;
+			regulator-max-microvolt = <0x325aa0>;
+			gpio = <0x2a 0x1e 0x0>;
+			enable-active-high;
+			linux,phandle = <0x11>;
+			phandle = <0x11>;
+		};
+
+		can-3v3 {
+			compatible = "regulator-fixed";
+			regulator-name = "can-3v3";
+			regulator-min-microvolt = <0x325aa0>;
+			regulator-max-microvolt = <0x325aa0>;
+			gpio = <0xa 0xd 0x0>;
+			enable-active-high;
+			linux,phandle = <0x15>;
+			phandle = <0x15>;
+		};
+	};
+
+	sound {
+		compatible = "fsl,imx28-evk-sgtl5000", "fsl,mxs-audio-sgtl5000";
+		model = "imx28-evk-sgtl5000";
+		saif-controllers = <0x1a 0x2b>;
+		audio-codec = <0x2c>;
+	};
+
+	leds {
+		compatible = "gpio-leds";
+		pinctrl-names = "default";
+		pinctrl-0 = <0x2d>;
+
+		user {
+			label = "led:green";
+			gpios = <0x2a 0x1d 0x1>;
+			linux,default-trigger = "heartbeat";
+		};
+	};
+
+	backlight {
+		compatible = "pwm-backlight";
+		pwms = <0x2e 0x3 0x4c4b40>;
+		brightness-levels = <0x0 0x4 0x8 0x10 0x20 0x40 0x80 0xff>;
+		default-brightness-level = <0x6>;
+	};
+};
-- 
2.4.3

